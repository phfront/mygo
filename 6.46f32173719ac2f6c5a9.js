(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{xK7Y:function(r,e,c){"use strict";c.r(e),c.d(e,"MyCardsModule",(function(){return C}));var t=c("tyNb"),a=c("3Pt+"),n=c("IzEk"),i=c("Kj3r"),s=c("fXoL"),o=c("AytR"),d=c("tk/3");let b=(()=>{class r{constructor(r){this.http=r}list(){return this.http.get("https://api.jsonbin.io/b/5f8b50e065b18913fc6050f6",{headers:{"secret-key":o.a.jsonBinKey}})}update(r){return this.http.put("https://api.jsonbin.io/b/5f8b50e065b18913fc6050f6",{myCards:r},{headers:{"secret-key":o.a.jsonBinKey,versioning:"false","Content-Type":"application/json"}})}}return r.\u0275fac=function(e){return new(e||r)(s.Ob(d.a))},r.\u0275prov=s.Db({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var p=c("h3Nf"),u=c("ofXK"),l=c("BBkE");function h(r,e){if(1&r&&(s.Kb(0,"p"),s.Kb(1,"span"),s.ec(2,"Pre\xe7o: "),s.Jb(),s.ec(3," [ "),s.Kb(4,"span"),s.ec(5,"CM"),s.Jb(),s.ec(6),s.Ub(7,"currency"),s.Kb(8,"span"),s.ec(9,"TC"),s.Jb(),s.ec(10),s.Ub(11,"currency"),s.Kb(12,"span"),s.ec(13,"EB"),s.Jb(),s.ec(14),s.Ub(15,"currency"),s.Kb(16,"span"),s.ec(17,"AM"),s.Jb(),s.ec(18),s.Ub(19,"currency"),s.Kb(20,"span"),s.ec(21,"CS"),s.Jb(),s.ec(22),s.Ub(23,"currency"),s.Jb()),2&r){const r=e.$implicit;s.xb(6),s.gc(" ",s.Vb(7,5,r.cardmarket_price),", "),s.xb(4),s.gc(" ",s.Vb(11,7,r.tcgplayer_price),", "),s.xb(4),s.gc(" ",s.Vb(15,9,r.ebay_price),", "),s.xb(4),s.gc(" ",s.Vb(19,11,r.amazon_price),", "),s.xb(4),s.gc(" ",s.Vb(23,13,r.coolstuffinc_price)," ] ")}}let f=(()=>{class r{constructor(){this.cardHover=new s.n,this.cardRemove=new s.n}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=s.Bb({type:r,selectors:[["app-card"]],inputs:{card:"card"},outputs:{cardHover:"cardHover",cardRemove:"cardRemove"},decls:19,vars:5,consts:[[1,"card",3,"mouseenter"],["alt","",3,"src"],[1,"card-info"],[4,"ngFor","ngForOf"],[1,"card-actions"],[3,"click"]],template:function(r,e){1&r&&(s.Kb(0,"div",0),s.Rb("mouseenter",(function(){return e.cardHover.emit(e.card)})),s.Ib(1,"img",1),s.Kb(2,"div",2),s.Kb(3,"p"),s.Kb(4,"span"),s.ec(5,"Nome:"),s.Jb(),s.ec(6),s.Jb(),s.Kb(7,"p"),s.Kb(8,"span"),s.ec(9,"Tipo:"),s.Jb(),s.ec(10),s.Jb(),s.Kb(11,"p"),s.Kb(12,"span"),s.ec(13,"Qtd:"),s.Jb(),s.ec(14),s.Jb(),s.dc(15,h,24,15,"p",3),s.Jb(),s.Kb(16,"div",4),s.Kb(17,"button",5),s.Rb("click",(function(){return e.cardRemove.emit(e.card)})),s.ec(18,"Remover"),s.Jb(),s.Jb(),s.Jb()),2&r&&(s.xb(1),s.Wb("src",e.card.card_images[0].image_url_small,s.bc),s.xb(5),s.gc(" ",e.card.name,""),s.xb(4),s.gc(" ",e.card.type,""),s.xb(4),s.gc(" ",e.card.count,""),s.xb(1),s.Wb("ngForOf",e.card.card_prices))},directives:[u.i],pipes:[u.c],styles:[".card[_ngcontent-%COMP%]{display:flex;align-items:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:auto;margin-right:10px}.card-info[_ngcontent-%COMP%]{flex-grow:1}.card-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}"]}),r})();function m(r,e){if(1&r){const r=s.Lb();s.Kb(0,"app-card",8),s.Rb("cardHover",(function(e){return s.ac(r),s.Tb().cardPreview=e}))("cardRemove",(function(e){return s.ac(r),s.Tb().removeCard(e)})),s.Jb()}2&r&&s.Wb("card",e.$implicit)}const v=[{path:"",component:(()=>{class r{constructor(r){this.myCardsService=r,this.cardList=[],this.cardListFiltered=[],this.cardSearch=new a.b("")}ngOnInit(){this.myCardsService.list().pipe(Object(n.a)(1)).subscribe(r=>{this.cardList=r.myCards,this.cardListFiltered=this.cardList}),this.cardSearch.valueChanges.pipe(Object(i.a)(100)).subscribe(()=>this.filterList())}removeCard(r){r.count>1?r.count--:(this.cardList=this.cardList.filter(e=>e.id!==r.id),this.filterList())}filterList(){this.cardListFiltered=this.cardSearch.value.replace(/ /g,"")?this.cardList.filter(r=>r.name.toLowerCase().includes(this.cardSearch.value.toLowerCase())):this.cardList}addCard(r){const e=this.cardList.find(e=>e.id===r.id);e?e.count++:(r.count=1,this.cardList.push(r),this.cardList.sort((r,e)=>r.name.localeCompare(e.name)))}saveList(){this.myCardsService.update(this.cardList).pipe(Object(n.a)(1)).subscribe(r=>{alert(r.success?"Lista salva":"Erro ao salvar lista")},r=>alert("Erro ao salvar lista"))}}return r.\u0275fac=function(e){return new(e||r)(s.Hb(b))},r.\u0275cmp=s.Bb({type:r,selectors:[["app-my-cards"]],decls:9,vars:3,consts:[[1,"my-cards"],[1,"my-cards-preview",3,"card"],[1,"my-cards-cards"],[1,"my-cards-header"],["type","text",3,"formControl"],[3,"click"],[3,"card","cardHover","cardRemove",4,"ngFor","ngForOf"],[1,"my-cards-search",3,"cardHover","cardClick"],[3,"card","cardHover","cardRemove"]],template:function(r,e){1&r&&(s.Kb(0,"div",0),s.Ib(1,"app-card-preview",1),s.Kb(2,"div",2),s.Kb(3,"div",3),s.Ib(4,"input",4),s.Kb(5,"button",5),s.Rb("click",(function(){return e.saveList()})),s.ec(6,"Salvar lista"),s.Jb(),s.Jb(),s.dc(7,m,1,1,"app-card",6),s.Jb(),s.Kb(8,"app-card-search",7),s.Rb("cardHover",(function(r){return e.cardPreview=r}))("cardClick",(function(r){return e.addCard(r)})),s.Jb(),s.Jb()),2&r&&(s.xb(1),s.Wb("card",e.cardPreview),s.xb(3),s.Wb("formControl",e.cardSearch),s.xb(3),s.Wb("ngForOf",e.cardListFiltered))},directives:[p.a,a.a,a.e,a.c,u.i,l.a,f],styles:[".my-cards[_ngcontent-%COMP%]{display:flex}.my-cards-preview[_ngcontent-%COMP%]{width:300px}.my-cards-cards[_ngcontent-%COMP%], .my-cards-search[_ngcontent-%COMP%]{width:calc(50% - 150px)}.my-cards-cards[_ngcontent-%COMP%]{height:100vh;overflow:auto}.my-cards-header[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center}"]}),r})()}];let g=(()=>{class r{}return r.\u0275mod=s.Fb({type:r}),r.\u0275inj=s.Eb({factory:function(e){return new(e||r)},imports:[[t.a.forChild(v)],t.a]}),r})();var y=c("PCNd");let C=(()=>{class r{}return r.\u0275mod=s.Fb({type:r}),r.\u0275inj=s.Eb({factory:function(e){return new(e||r)},providers:[b],imports:[[y.a,g]]}),r})()}}]);