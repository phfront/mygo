(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7UCR":function(t,n,e){"use strict";e.r(n),e.d(n,"UserModule",(function(){return P}));var o=e("PCNd"),r=e("tyNb"),i=e("/vdw"),c=e("3Pt+"),s=e("IzEk"),g=e("fXoL"),a=e("e0Ib");let b=(()=>{class t{constructor(t,n,e){this.mygoService=t,this.router=n,this.route=e,this.form=(new c.b).group({password:["",c.l.required],confirmPassword:["",c.l.required],hash:[""]})}ngOnInit(){this.route.params.pipe(Object(s.a)(1)).subscribe(t=>{this.form.get("hash").setValue(t.hashId)})}submit(){const{hash:t,password:n,confirmPassword:e}=this.form.value;if(n!==e)return alert("Senhas diferentes");this.mygoService.changePassword(t,n,e).pipe(Object(s.a)(1)).subscribe(t=>{alert("Senha alterada com sucesso"),this.backToLogin()})}backToLogin(){this.router.navigate(["/user/login"])}}return t.\u0275fac=function(n){return new(n||t)(g.Ib(a.a),g.Ib(r.b),g.Ib(r.a))},t.\u0275cmp=g.Cb({type:t,selectors:[["app-change-password"]],decls:16,vars:4,consts:[[1,"change",3,"formGroup","submit"],[1,"change-container"],["src","assets/images/logo.png","alt","",1,"logo"],[1,"mygo-input"],["for","password"],["id","password","type","password","placeholder","Nova senha",3,"formControl"],["for","confirmPassword"],["id","confirmPassword","type","password","placeholder","Confirmar senha",3,"formControl"],[1,"buttons"],["type","submit",1,"mygo-button",3,"disabled"],["type","button",1,"mygo-button",3,"click"]],template:function(t,n){1&t&&(g.Lb(0,"form",0),g.Sb("submit",(function(){return n.submit()})),g.Lb(1,"div",1),g.Jb(2,"img",2),g.Lb(3,"div",3),g.Lb(4,"label",4),g.gc(5,"Nova senha"),g.Kb(),g.Jb(6,"input",5),g.Kb(),g.Lb(7,"div",3),g.Lb(8,"label",6),g.gc(9,"Confirmar senha"),g.Kb(),g.Jb(10,"input",7),g.Kb(),g.Lb(11,"div",8),g.Lb(12,"button",9),g.gc(13,"Enviar email"),g.Kb(),g.Lb(14,"button",10),g.Sb("click",(function(){return n.backToLogin()})),g.gc(15,"Voltar"),g.Kb(),g.Kb(),g.Kb(),g.Kb()),2&t&&(g.Xb("formGroup",n.form),g.xb(6),g.Xb("formControl",n.form.get("password")),g.xb(4),g.Xb("formControl",n.form.get("confirmPassword")),g.xb(2),g.Xb("disabled",!n.form.valid))},directives:[c.n,c.h,c.e,c.a,c.g,c.d],styles:[".change[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;background-image:var(--loginBg);background-repeat:no-repeat;background-position:bottom;background-position-x:5vw}.change[_ngcontent-%COMP%]   .change-container[_ngcontent-%COMP%]{padding:20px;display:grid;grid-template-columns:1fr;gap:10px;width:400px;position:fixed;right:25vw}.change[_ngcontent-%COMP%]   .change-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%}.change[_ngcontent-%COMP%]   .change-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]{display:flex;align-items:center}.change[_ngcontent-%COMP%]   .change-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:180px}.change[_ngcontent-%COMP%]   .change-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:260px}.change[_ngcontent-%COMP%]   .change-container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:20px;display:grid;grid-template-columns:1fr 1fr;gap:20px}.change[_ngcontent-%COMP%]   .change-container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{grid-column:1/span 2;text-align:center}"]}),t})(),l=(()=>{class t{constructor(t,n){this.mygoService=t,this.router=n,this.form=(new c.b).group({email:[""]})}ngOnInit(){}sendEmail(){const{email:t}=this.form.value;if(!t)return alert("Email inv\xe1lido");this.mygoService.forgotPassword(t).pipe(Object(s.a)(1)).subscribe(t=>{alert("Foi enviado para seu email um link para criar uma nova senha")})}backToLogin(){this.router.navigate(["/user/login"])}}return t.\u0275fac=function(n){return new(n||t)(g.Ib(a.a),g.Ib(r.b))},t.\u0275cmp=g.Cb({type:t,selectors:[["app-forgot-password"]],decls:14,vars:2,consts:[[1,"forgot",3,"formGroup","submit"],[1,"forgot-container"],["src","assets/images/logo.png","alt","",1,"logo"],[1,"mygo-input"],["for","email"],["id","email","type","text","placeholder","Email",3,"formControl"],[1,"buttons"],["type","submit",1,"mygo-button"],["type","button",1,"mygo-button",3,"click"]],template:function(t,n){1&t&&(g.Lb(0,"form",0),g.Sb("submit",(function(){return n.sendEmail()})),g.Lb(1,"div",1),g.Jb(2,"img",2),g.Lb(3,"h3"),g.gc(4,"Informe seu email que iremos enviar um link para cria\xe7\xe3o da nova senha"),g.Kb(),g.Lb(5,"div",3),g.Lb(6,"label",4),g.gc(7,"Email"),g.Kb(),g.Jb(8,"input",5),g.Kb(),g.Lb(9,"div",6),g.Lb(10,"button",7),g.gc(11,"Enviar email"),g.Kb(),g.Lb(12,"button",8),g.Sb("click",(function(){return n.backToLogin()})),g.gc(13,"Voltar"),g.Kb(),g.Kb(),g.Kb(),g.Kb()),2&t&&(g.Xb("formGroup",n.form),g.xb(8),g.Xb("formControl",n.form.get("email")))},directives:[c.n,c.h,c.e,c.a,c.g,c.d],styles:[".forgot[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;background-image:var(--loginBg);background-repeat:no-repeat;background-position:bottom;background-position-x:5vw}.forgot[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]{padding:20px;display:grid;grid-template-columns:1fr;gap:10px;width:400px;position:fixed;right:25vw}.forgot[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.forgot[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%}.forgot[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]{display:flex;align-items:center}.forgot[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100px}.forgot[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:260px}.forgot[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:20px;display:grid;grid-template-columns:1fr 1fr;gap:20px}.forgot[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{grid-column:1/span 2;text-align:center}"]}),t})();var u=e("ofXK");function p(t,n){if(1&t&&(g.Lb(0,"section"),g.Lb(1,"h1"),g.gc(2,"Usuario"),g.Kb(),g.Lb(3,"p"),g.gc(4),g.Kb(),g.Lb(5,"p"),g.gc(6),g.Kb(),g.Lb(7,"p"),g.gc(8),g.Kb(),g.Lb(9,"p"),g.gc(10),g.Kb(),g.Kb()),2&t){const t=g.Ub();g.xb(4),g.ic("ID: ",t.user._id,""),g.xb(2),g.ic("Username: ",t.user.username,""),g.xb(2),g.ic("Nome: ",t.user.name,""),g.xb(2),g.ic("Email: ",t.user.email,"")}}function m(t,n){if(1&t){const t=g.Mb();g.Lb(0,"p"),g.gc(1),g.Lb(2,"button",1),g.Sb("click",(function(){g.cc(t);const e=n.$implicit;return g.Ub().editDeck(e)})),g.gc(3,"Editar deck"),g.Kb(),g.Kb()}if(2&t){const t=n.$implicit;g.xb(1),g.jc(" ",t.name," ( ",t.createdBy," ) ")}}let d=(()=>{class t{constructor(t,n){this.mygoService=t,this.router=n,this.decks=[]}ngOnInit(){this.getUser()}getUser(){this.mygoService.user().pipe(Object(s.a)(1)).subscribe(t=>{this.user=t.user,this.getDecks()},t=>{this.mygoService.logout(),this.router.navigate(["/user/login"])})}getDecks(){this.mygoService.myDecks().pipe(Object(s.a)(1)).subscribe(t=>{this.decks=t.decks})}editDeck(t){this.router.navigate(["/deck/"+t._id])}myCards(){this.router.navigate(["/mycards"])}}return t.\u0275fac=function(n){return new(n||t)(g.Ib(a.a),g.Ib(r.b))},t.\u0275cmp=g.Cb({type:t,selectors:[["app-home"]],decls:10,vars:2,consts:[[4,"ngIf"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(g.fc(0,p,11,4,"section",0),g.Jb(1,"br"),g.Lb(2,"section"),g.Lb(3,"button",1),g.Sb("click",(function(){return n.myCards()})),g.gc(4,"Minhas cartas"),g.Kb(),g.Kb(),g.Jb(5,"br"),g.Lb(6,"section"),g.Lb(7,"h1"),g.gc(8,"Decks"),g.Kb(),g.fc(9,m,4,2,"p",2),g.Kb()),2&t&&(g.Xb("ngIf",n.user),g.xb(9),g.Xb("ngForOf",n.decks))},directives:[u.k,u.j],styles:[""]}),t})();var f=e("ETNk");const h=function(){return["/user/forgot-password"]},C=[{path:"",redirectTo:"home"},{path:"login",component:(()=>{class t{constructor(t,n,e,o){this.mygoService=t,this.router=n,this.formBuilder=e,this.themeService=o,this.form=this.formBuilder.group({username:[""],password:[""]})}ngOnInit(){localStorage.getItem("token")&&this.mygoService.verifyToken().pipe(Object(s.a)(1)).subscribe(t=>{t.success&&this.loginComplete(!1)})}login(){this.mygoService.login(this.form.get("username").value,this.form.get("password").value).pipe(Object(s.a)(1)).subscribe(t=>{t.success&&(localStorage.setItem("token",t.token),this.loginComplete(!0))})}loginComplete(t){const n=localStorage.getItem("temptheme");n&&t&&this.themeService.saveTheme(n),this.router.navigate(["/user/home"])}register(){this.router.navigate(["/user/register"])}}return t.\u0275fac=function(n){return new(n||t)(g.Ib(a.a),g.Ib(r.b),g.Ib(c.b),g.Ib(f.a))},t.\u0275cmp=g.Cb({type:t,selectors:[["app-login"]],decls:18,vars:6,consts:[[1,"login",3,"formGroup","submit"],[1,"login-container"],["src","assets/images/logo.png","alt","",1,"logo"],[1,"mygo-input"],["for","username"],["id","username","type","text","placeholder","Usu\xe1rio",3,"formControl"],["for","password"],["id","password","type","password","placeholder","Senha",3,"formControl"],[1,"buttons"],["type","submit",1,"mygo-button",3,"disabled"],["type","button",1,"mygo-button",3,"click"],[1,"mygo-anchor",3,"routerLink"]],template:function(t,n){1&t&&(g.Lb(0,"form",0),g.Sb("submit",(function(){return n.login()})),g.Lb(1,"div",1),g.Jb(2,"img",2),g.Lb(3,"div",3),g.Lb(4,"label",4),g.gc(5,"Usu\xe1rio"),g.Kb(),g.Jb(6,"input",5),g.Kb(),g.Lb(7,"div",3),g.Lb(8,"label",6),g.gc(9,"Senha"),g.Kb(),g.Jb(10,"input",7),g.Kb(),g.Lb(11,"div",8),g.Lb(12,"button",9),g.gc(13,"Login"),g.Kb(),g.Lb(14,"button",10),g.Sb("click",(function(){return n.register()})),g.gc(15,"Registrar"),g.Kb(),g.Lb(16,"a",11),g.gc(17,"Esqueceu sua senha?"),g.Kb(),g.Kb(),g.Kb(),g.Kb()),2&t&&(g.Xb("formGroup",n.form),g.xb(6),g.Xb("formControl",n.form.get("username")),g.xb(4),g.Xb("formControl",n.form.get("password")),g.xb(2),g.Xb("disabled",!n.form.valid),g.xb(4),g.Xb("routerLink",g.Yb(5,h)))},directives:[c.n,c.h,c.e,c.a,c.g,c.d,r.c],styles:[".login[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;background-image:var(--loginBg);background-repeat:no-repeat;background-position:bottom;background-position-x:5vw}.login[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{padding:20px;display:grid;grid-template-columns:1fr;gap:10px;width:400px;position:fixed;right:25vw}.login[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]{display:flex;align-items:center}.login[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100px}.login[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:260px}.login[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:20px;display:grid;grid-template-columns:1fr 1fr;gap:20px}.login[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{grid-column:1/span 2;text-align:center}"]}),t})()},{path:"register",component:(()=>{class t{constructor(t,n){this.mygoService=t,this.router=n,this.user=(new c.b).group({name:[""],email:[""],username:[""],password:[""]})}ngOnInit(){}register(){this.mygoService.register(this.user.get("name").value,this.user.get("email").value,this.user.get("username").value,this.user.get("password").value).pipe(Object(s.a)(1)).subscribe(t=>{this.backToLogin(),alert("Usu\xe1rio criado com sucesso")})}backToLogin(){this.router.navigate(["/user/login"])}}return t.\u0275fac=function(n){return new(n||t)(g.Ib(a.a),g.Ib(r.b))},t.\u0275cmp=g.Cb({type:t,selectors:[["app-register"]],decls:24,vars:6,consts:[[1,"register",3,"formGroup","submit"],[1,"register-container"],["src","assets/images/logo.png","alt","",1,"logo"],[1,"mygo-input"],["for","name"],["id","name","type","text","placeholder","Nome",3,"formControl"],["for","email"],["id","email","type","text","placeholder","Email",3,"formControl"],["for","username"],["id","username","type","text","placeholder","Usu\xe1rio",3,"formControl"],["for","password"],["id","password","type","password","placeholder","Senha",3,"formControl"],[1,"buttons"],["type","submit",1,"mygo-button",3,"disabled"],["type","button",1,"mygo-button",3,"click"]],template:function(t,n){1&t&&(g.Lb(0,"form",0),g.Sb("submit",(function(){return n.register()})),g.Lb(1,"div",1),g.Jb(2,"img",2),g.Lb(3,"div",3),g.Lb(4,"label",4),g.gc(5,"Nome"),g.Kb(),g.Jb(6,"input",5),g.Kb(),g.Lb(7,"div",3),g.Lb(8,"label",6),g.gc(9,"Email"),g.Kb(),g.Jb(10,"input",7),g.Kb(),g.Lb(11,"div",3),g.Lb(12,"label",8),g.gc(13,"Usu\xe1rio"),g.Kb(),g.Jb(14,"input",9),g.Kb(),g.Lb(15,"div",3),g.Lb(16,"label",10),g.gc(17,"Senha"),g.Kb(),g.Jb(18,"input",11),g.Kb(),g.Lb(19,"div",12),g.Lb(20,"button",13),g.gc(21,"Criar conta"),g.Kb(),g.Lb(22,"button",14),g.Sb("click",(function(){return n.backToLogin()})),g.gc(23,"Voltar"),g.Kb(),g.Kb(),g.Kb(),g.Kb()),2&t&&(g.Xb("formGroup",n.user),g.xb(6),g.Xb("formControl",n.user.get("name")),g.xb(4),g.Xb("formControl",n.user.get("email")),g.xb(4),g.Xb("formControl",n.user.get("username")),g.xb(4),g.Xb("formControl",n.user.get("password")),g.xb(2),g.Xb("disabled",!n.user.valid))},directives:[c.n,c.h,c.e,c.a,c.g,c.d],styles:[".register[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;background-image:var(--loginBg);background-repeat:no-repeat;background-position:bottom;background-position-x:5vw}.register[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{padding:20px;display:grid;grid-template-columns:1fr;gap:10px;width:400px;position:fixed;right:25vw}.register[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%}.register[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]{display:flex;align-items:center}.register[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100px}.register[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .mygo-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:260px}.register[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:20px;display:grid;grid-template-columns:1fr 1fr;gap:20px}.register[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{grid-column:1/span 2;text-align:center}"]}),t})()},{path:"forgot-password",component:l},{path:"change-password/:hashId",component:b},{path:"home",component:d,canActivate:[i.a]}];let O=(()=>{class t{}return t.\u0275mod=g.Gb({type:t}),t.\u0275inj=g.Fb({factory:function(n){return new(n||t)},imports:[[r.d.forChild(C)],r.d]}),t})(),P=(()=>{class t{}return t.\u0275mod=g.Gb({type:t}),t.\u0275inj=g.Fb({factory:function(n){return new(n||t)},imports:[[o.a,O]]}),t})()}}]);